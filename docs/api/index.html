<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCMF API Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --info-color: #17a2b8;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
        }
        
        .header-gradient {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 3rem 0;
            margin-bottom: 2rem;
        }
        
        .api-section {
            margin-bottom: 3rem;
            border: 1px solid #e9ecef;
            border-radius: 0.5rem;
            overflow: hidden;
        }
        
        .api-section-header {
            background: #f8f9fa;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #e9ecef;
        }
        
        .api-section-content {
            padding: 1.5rem;
        }
        
        .endpoint {
            margin-bottom: 2rem;
            padding: 1rem;
            border: 1px solid #dee2e6;
            border-radius: 0.375rem;
            background: #fafafa;
        }
        
        .endpoint-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .http-method {
            padding: 0.25rem 0.75rem;
            border-radius: 0.25rem;
            font-weight: bold;
            font-size: 0.875rem;
            margin-right: 1rem;
        }
        
        .method-get { background: var(--info-color); color: white; }
        .method-post { background: var(--success-color); color: white; }
        .method-put { background: var(--warning-color); color: black; }
        .method-delete { background: var(--danger-color); color: white; }
        
        .endpoint-path {
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            font-weight: bold;
        }
        
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 0.375rem;
            padding: 1rem;
            margin: 1rem 0;
            overflow-x: auto;
        }
        
        .sidebar {
            position: sticky;
            top: 2rem;
            max-height: calc(100vh - 4rem);
            overflow-y: auto;
        }
        
        .nav-link {
            color: #6c757d;
            transition: color 0.2s;
        }
        
        .nav-link:hover, .nav-link.active {
            color: var(--primary-color);
        }
        
        .status-badge {
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
        }
        
        .status-200 { background: #d4edda; color: #155724; }
        .status-400 { background: #f8d7da; color: #721c24; }
        .status-401 { background: #f8d7da; color: #721c24; }
        .status-500 { background: #f8d7da; color: #721c24; }
        
        .websocket-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin: 2rem 0;
        }
        
        .rate-limit-info {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 1rem;
            border-radius: 0.375rem;
            margin: 1rem 0;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header-gradient text-center">
        <div class="container">
            <h1 class="display-4 mb-3">
                <i class="fas fa-chart-line me-3"></i>
                Monte Carlo-Markov Finance API
            </h1>
            <p class="lead">
                Comprehensive RESTful API and WebSocket endpoints for quantitative finance modeling and simulation
            </p>
            <div class="row justify-content-center mt-4">
                <div class="col-auto">
                    <span class="badge bg-light text-dark fs-6 me-3">
                        <i class="fas fa-code me-1"></i>
                        Version 1.0.0
                    </span>
                    <span class="badge bg-light text-dark fs-6 me-3">
                        <i class="fas fa-server me-1"></i>
                        REST + WebSocket
                    </span>
                    <span class="badge bg-light text-dark fs-6">
                        <i class="fas fa-shield-alt me-1"></i>
                        JWT Authentication
                    </span>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar Navigation -->
            <div class="col-md-3">
                <div class="sidebar">
                    <nav class="nav flex-column">
                        <h6 class="nav-header text-muted text-uppercase fw-bold mb-2">Getting Started</h6>
                        <a class="nav-link" href="#overview">Overview</a>
                        <a class="nav-link" href="#authentication">Authentication</a>
                        <a class="nav-link" href="#rate-limits">Rate Limits</a>
                        
                        <h6 class="nav-header text-muted text-uppercase fw-bold mb-2 mt-3">API Endpoints</h6>
                        <a class="nav-link" href="#monte-carlo">Monte Carlo Simulations</a>
                        <a class="nav-link" href="#option-pricing">Option Pricing</a>
                        <a class="nav-link" href="#risk-analytics">Risk Analytics</a>
                        <a class="nav-link" href="#markov-models">Markov Models</a>
                        <a class="nav-link" href="#backtesting">Backtesting</a>
                        <a class="nav-link" href="#portfolio">Portfolio Management</a>
                        
                        <h6 class="nav-header text-muted text-uppercase fw-bold mb-2 mt-3">Real-time</h6>
                        <a class="nav-link" href="#websocket">WebSocket API</a>
                        <a class="nav-link" href="#streaming">Data Streaming</a>
                        
                        <h6 class="nav-header text-muted text-uppercase fw-bold mb-2 mt-3">Utilities</h6>
                        <a class="nav-link" href="#reports">Report Generation</a>
                        <a class="nav-link" href="#system">System Endpoints</a>
                    </nav>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-md-9">
                <!-- Overview Section -->
                <section id="overview" class="api-section">
                    <div class="api-section-header">
                        <h2><i class="fas fa-info-circle me-2"></i>API Overview</h2>
                    </div>
                    <div class="api-section-content">
                        <div class="row">
                            <div class="col-md-6">
                                <h5>Base URL</h5>
                                <div class="code-block">
                                    <code>https://api.mcmf-system.com/api/v1</code>
                                </div>
                                
                                <h5>Content Type</h5>
                                <div class="code-block">
                                    <code>application/json</code>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h5>Supported Methods</h5>
                                <ul class="list-unstyled">
                                    <li><span class="http-method method-get">GET</span> Retrieve data</li>
                                    <li><span class="http-method method-post">POST</span> Create/Execute operations</li>
                                    <li><span class="http-method method-put">PUT</span> Update resources</li>
                                    <li><span class="http-method method-delete">DELETE</span> Remove resources</li>
                                </ul>
                            </div>
                        </div>

                        <div class="alert alert-info">
                            <h6><i class="fas fa-lightbulb me-2"></i>Key Features</h6>
                            <ul class="mb-0">
                                <li><strong>High Performance:</strong> GPU-accelerated Monte Carlo simulations (1M+ paths/second)</li>
                                <li><strong>Real-time Processing:</strong> WebSocket streaming for live market data and analytics</li>
                                <li><strong>Comprehensive Risk:</strong> VaR, Expected Shortfall, stress testing, and portfolio analytics</li>
                                <li><strong>Advanced Models:</strong> Hidden Markov Models, regime detection, and ML integration</li>
                                <li><strong>Professional Reports:</strong> Automated PDF/HTML report generation with charts</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Authentication Section -->
                <section id="authentication" class="api-section">
                    <div class="api-section-header">
                        <h2><i class="fas fa-key me-2"></i>Authentication</h2>
                    </div>
                    <div class="api-section-content">
                        <p>The API uses JWT (JSON Web Token) authentication. All protected endpoints require a valid token in the Authorization header.</p>
                        
                        <div class="endpoint">
                            <div class="endpoint-header">
                                <span class="http-method method-post">POST</span>
                                <span class="endpoint-path">/auth/login</span>
                            </div>
                            <p>Authenticate user and receive access token.</p>
                            
                            <h6>Request Body:</h6>
                            <div class="code-block">
<pre><code class="language-json">{
  "user_id": "demo_user",
  "password": "demo_password"
}</code></pre>
                            </div>
                            
                            <h6>Response:</h6>
                            <div class="code-block">
<pre><code class="language-json">{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
  "refresh_token": "uuid-refresh-token",
  "token_type": "Bearer",
  "expires_in": 86400,
  "user": {
    "user_id": "demo_user",
    "email": "demo@mcmf-system.com",
    "permissions": ["read", "write"]
  }
}</code></pre>
                            </div>
                        </div>

                        <div class="alert alert-warning">
                            <strong>Using the Token:</strong> Include the token in the Authorization header:
                            <div class="code-block mt-2">
                                <code>Authorization: Bearer your_access_token_here</code>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Rate Limits Section -->
                <section id="rate-limits" class="api-section">
                    <div class="api-section-header">
                        <h2><i class="fas fa-tachometer-alt me-2"></i>Rate Limits</h2>
                    </div>
                    <div class="api-section-content">
                        <div class="rate-limit-info">
                            <h6><i class="fas fa-clock me-2"></i>Default Limits</h6>
                            <ul class="mb-0">
                                <li><strong>General:</strong> 100 requests per minute, 1000 per hour</li>
                                <li><strong>Monte Carlo:</strong> 10 requests per minute</li>
                                <li><strong>Multi-Asset:</strong> 5 requests per minute</li>
                                <li><strong>Reports:</strong> 5 requests per minute</li>
                            </ul>
                        </div>
                        
                        <p>Rate limit information is included in response headers:</p>
                        <div class="code-block">
<pre><code>X-RateLimit-Limit: 100
X-RateLimit-Remaining: 95
X-RateLimit-Reset: 1640995200</code></pre>
                        </div>
                    </div>
                </section>

                <!-- Monte Carlo Section -->
                <section id="monte-carlo" class="api-section">
                    <div class="api-section-header">
                        <h2><i class="fas fa-dice me-2"></i>Monte Carlo Simulations</h2>
                    </div>
                    <div class="api-section-content">
                        <!-- Single Asset Simulation -->
                        <div class="endpoint">
                            <div class="endpoint-header">
                                <span class="http-method method-post">POST</span>
                                <span class="endpoint-path">/simulations/monte-carlo</span>
                                <span class="status-badge status-200 ms-auto">200 OK</span>
                            </div>
                            <p>Run single-asset Monte Carlo simulation using Geometric Brownian Motion.</p>
                            
                            <h6>Request Body:</h6>
                            <div class="code-block">
<pre><code class="language-json">{
  "n_simulations": 10000,
  "n_steps": 252,
  "initial_price": 100.0,
  "drift": 0.05,
  "volatility": 0.2,
  "random_seed": 42,
  "use_gpu": false,
  "antithetic_variates": false
}</code></pre>
                            </div>
                            
                            <h6>Response:</h6>
                            <div class="code-block">
<pre><code class="language-json">{
  "simulation_id": "uuid-here",
  "parameters": { "..." },
  "statistics": {
    "mean_final_price": 105.13,
    "std_final_price": 20.45,
    "min_final_price": 45.23,
    "max_final_price": 189.67,
    "percentiles": {
      "5th": 78.45,
      "25th": 91.23,
      "50th": 104.67,
      "75th": 118.90,
      "95th": 135.78
    }
  },
  "paths_sample": [[100, 101.2, 99.8, ...], ...],
  "timestamp": "2025-01-21T03:50:00Z"
}</code></pre>
                            </div>
                        </div>

                        <!-- Multi-Asset Simulation -->
                        <div class="endpoint">
                            <div class="endpoint-header">
                                <span class="http-method method-post">POST</span>
                                <span class="endpoint-path">/simulations/multi-asset</span>
                                <span class="status-badge status-200 ms-auto">200 OK</span>
                            </div>
                            <p>Run multi-asset Monte Carlo simulation with correlation matrix.</p>
                            
                            <h6>Request Body:</h6>
                            <div class="code-block">
<pre><code class="language-json">{
  "n_simulations": 5000,
  "n_steps": 252,
  "initial_prices": [100.0, 200.0, 150.0],
  "drifts": [0.05, 0.06, 0.04],
  "volatilities": [0.2, 0.25, 0.18],
  "correlation_matrix": [
    [1.0, 0.6, 0.3],
    [0.6, 1.0, 0.4],
    [0.3, 0.4, 1.0]
  ],
  "random_seed": 42
}</code></pre>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Option Pricing Section -->
                <section id="option-pricing" class="api-section">
                    <div class="api-section-header">
                        <h2><i class="fas fa-chart-area me-2"></i>Option Pricing</h2>
                    </div>
                    <div class="api-section-content">
                        <div class="endpoint">
                            <div class="endpoint-header">
                                <span class="http-method method-post">POST</span>
                                <span class="endpoint-path">/pricing/options</span>
                                <span class="status-badge status-200 ms-auto">200 OK</span>
                            </div>
                            <p>Price path-dependent options using Monte Carlo simulation.</p>
                            
                            <h6>Request Body:</h6>
                            <div class="code-block">
<pre><code class="language-json">{
  "monte_carlo_params": {
    "n_simulations": 50000,
    "n_steps": 252,
    "initial_price": 100.0,
    "drift": 0.05,
    "volatility": 0.2
  },
  "option_params": {
    "strike": 105.0,
    "option_type": "call",
    "risk_free_rate": 0.03,
    "time_to_maturity": 1.0,
    "barrier": 120.0,
    "barrier_type": "up-and-out"
  }
}</code></pre>
                            </div>
                            
                            <h6>Response:</h6>
                            <div class="code-block">
<pre><code class="language-json">{
  "pricing_id": "uuid-here",
  "price": 8.45,
  "std_error": 0.12,
  "confidence_interval": [8.21, 8.69],
  "greeks": {
    "delta": 0.523,
    "gamma": 0.024,
    "theta": -0.019,
    "vega": 20.15,
    "rho": 35.67
  },
  "parameters": { "..." },
  "timestamp": "2025-01-21T03:50:00Z"
}</code></pre>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Risk Analytics Section -->
                <section id="risk-analytics" class="api-section">
                    <div class="api-section-header">
                        <h2><i class="fas fa-shield-alt me-2"></i>Risk Analytics</h2>
                    </div>
                    <div class="api-section-content">
                        <div class="endpoint">
                            <div class="endpoint-header">
                                <span class="http-method method-post">POST</span>
                                <span class="endpoint-path">/analytics/risk</span>
                                <span class="status-badge status-200 ms-auto">200 OK</span>
                            </div>
                            <p>Calculate comprehensive risk metrics including VaR, Expected Shortfall, and drawdown analysis.</p>
                            
                            <h6>Request Body:</h6>
                            <div class="code-block">
<pre><code class="language-json">{
  "returns_data": [0.001, -0.002, 0.003, -0.001, ...],
  "confidence_levels": [0.95, 0.99],
  "method": "historical",
  "risk_free_rate": 0.02
}</code></pre>
                            </div>
                            
                            <h6>Response:</h6>
                            <div class="code-block">
<pre><code class="language-json">{
  "analysis_id": "uuid-here",
  "risk_measures": {
    "var_95": -0.0234,
    "var_99": -0.0345,
    "expected_shortfall_95": -0.0289,
    "expected_shortfall_99": -0.0412,
    "maximum_drawdown": -0.0567,
    "sharpe_ratio": 1.234,
    "calmar_ratio": 2.145,
    "omega_ratio": 1.567,
    "tail_ratio": 0.789
  },
  "timestamp": "2025-01-21T03:50:00Z"
}</code></pre>
                            </div>
                        </div>

                        <!-- Portfolio Risk -->
                        <div class="endpoint">
                            <div class="endpoint-header">
                                <span class="http-method method-post">POST</span>
                                <span class="endpoint-path">/analytics/portfolio-risk</span>
                                <span class="status-badge status-200 ms-auto">200 OK</span>
                            </div>
                            <p>Calculate portfolio-level risk metrics with risk attribution and diversification analysis.</p>
                        </div>
                    </div>
                </section>

                <!-- WebSocket Section -->
                <section id="websocket" class="websocket-section">
                    <h2><i class="fas fa-broadcast-tower me-2"></i>WebSocket API</h2>
                    <p class="mb-3">Real-time data streaming and live updates via WebSocket connections.</p>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <h5>Connection URL</h5>
                            <div class="code-block bg-dark text-light">
                                <code>wss://api.mcmf-system.com/socket.io/</code>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h5>Supported Events</h5>
                            <ul class="text-light">
                                <li><code>market_data_update</code></li>
                                <li><code>risk_update</code></li>
                                <li><code>monte_carlo_update</code></li>
                                <li><code>portfolio_update</code></li>
                            </ul>
                        </div>
                    </div>

                    <h5>Authentication</h5>
                    <div class="code-block bg-dark text-light">
<pre><code class="language-javascript">socket.emit('authenticate', {
  token: 'your_jwt_token'
});</code></pre>
                    </div>

                    <h5>Subscribe to Market Data</h5>
                    <div class="code-block bg-dark text-light">
<pre><code class="language-javascript">socket.emit('subscribe_market_data', {
  symbols: ['AAPL', 'GOOGL', 'MSFT']
});

socket.on('market_data_update', (data) => {
  console.log('Price update:', data);
});</code></pre>
                    </div>
                </section>

                <!-- System Endpoints -->
                <section id="system" class="api-section">
                    <div class="api-section-header">
                        <h2><i class="fas fa-cogs me-2"></i>System Endpoints</h2>
                    </div>
                    <div class="api-section-content">
                        <div class="endpoint">
                            <div class="endpoint-header">
                                <span class="http-method method-get">GET</span>
                                <span class="endpoint-path">/health</span>
                                <span class="status-badge status-200 ms-auto">200 OK</span>
                            </div>
                            <p>System health check endpoint.</p>
                            
                            <h6>Response:</h6>
                            <div class="code-block">
<pre><code class="language-json">{
  "status": "healthy",
  "timestamp": "2025-01-21T03:50:00Z",
  "version": "1.0.0",
  "uptime": "2d 14h 32m",
  "services": {
    "database": "healthy",
    "redis": "healthy",
    "gpu": "available"
  }
}</code></pre>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Error Codes -->
                <section id="errors" class="api-section">
                    <div class="api-section-header">
                        <h2><i class="fas fa-exclamation-triangle me-2"></i>Error Codes</h2>
                    </div>
                    <div class="api-section-content">
                        <div class="table-responsive">
                            <table class="table">
                                <thead class="table-dark">
                                    <tr>
                                        <th>Code</th>
                                        <th>Status</th>
                                        <th>Description</th>
                                        <th>Resolution</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="status-badge status-400">400</span></td>
                                        <td>Bad Request</td>
                                        <td>Invalid request parameters or validation errors</td>
                                        <td>Check request format and parameter values</td>
                                    </tr>
                                    <tr>
                                        <td><span class="status-badge status-401">401</span></td>
                                        <td>Unauthorized</td>
                                        <td>Authentication required or token invalid</td>
                                        <td>Provide valid JWT token in Authorization header</td>
                                    </tr>
                                    <tr>
                                        <td><span class="status-badge status-400">403</span></td>
                                        <td>Forbidden</td>
                                        <td>Insufficient permissions for resource</td>
                                        <td>Ensure user has required permissions</td>
                                    </tr>
                                    <tr>
                                        <td><span class="status-badge status-400">429</span></td>
                                        <td>Rate Limited</td>
                                        <td>Too many requests, rate limit exceeded</td>
                                        <td>Wait and retry, or upgrade rate limit</td>
                                    </tr>
                                    <tr>
                                        <td><span class="status-badge status-500">500</span></td>
                                        <td>Server Error</td>
                                        <td>Internal server error occurred</td>
                                        <td>Contact support if error persists</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- SDK and Examples -->
                <section id="sdk" class="api-section">
                    <div class="api-section-header">
                        <h2><i class="fas fa-code me-2"></i>SDKs and Examples</h2>
                    </div>
                    <div class="api-section-content">
                        <div class="row">
                            <div class="col-md-6">
                                <h5>Python SDK</h5>
                                <div class="code-block">
<pre><code class="language-python">import mcmf_client

client = mcmf_client.Client(api_key="your_key")
result = client.monte_carlo.simulate(
    n_simulations=10000,
    initial_price=100.0,
    drift=0.05,
    volatility=0.2
)</code></pre>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h5>JavaScript/Node.js</h5>
                                <div class="code-block">
<pre><code class="language-javascript">const MCMF = require('mcmf-js-client');

const client = new MCMF.Client({
  apiKey: 'your_key'
});

const result = await client.monteCarlo.simulate({
  nSimulations: 10000,
  initialPrice: 100.0,
  drift: 0.05,
  volatility: 0.2
});</code></pre>
                                </div>
                            </div>
                        </div>

                        <div class="alert alert-info mt-3">
                            <h6><i class="fas fa-download me-2"></i>Download SDKs</h6>
                            <p class="mb-2">Official SDKs and client libraries:</p>
                            <a href="#" class="btn btn-outline-primary btn-sm me-2">Python SDK</a>
                            <a href="#" class="btn btn-outline-primary btn-sm me-2">JavaScript SDK</a>
                            <a href="#" class="btn btn-outline-primary btn-sm me-2">R Package</a>
                            <a href="#" class="btn btn-outline-primary btn-sm">MATLAB Toolbox</a>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-light py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h6>Monte Carlo-Markov Finance System</h6>
                    <p class="small mb-0">Professional quantitative finance API for institutions and developers.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <h6>Support</h6>
                    <p class="small mb-0">
                        <a href="mailto:support@mcmf-system.com" class="text-light">support@mcmf-system.com</a><br>
                        <a href="https://docs.mcmf-system.com" class="text-light">Documentation</a> |
                        <a href="https://github.com/your-org/monte-carlo-markov-finance" class="text-light">GitHub</a>
                    </p>
                </div>
            </div>
            <hr class="my-3">
            <div class="text-center">
                <small>&copy; 2025 MCMF System. All rights reserved. | Version 1.0.0</small>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Active navigation highlighting
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.nav-link[href^="#"]');
            
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (pageYOffset >= sectionTop - 100) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
