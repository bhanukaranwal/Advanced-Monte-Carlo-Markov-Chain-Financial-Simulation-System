<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monte Carlo API Documentation - MCMF System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --info-color: #17a2b8;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
        }
        
        .header-gradient {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 3rem 0;
            margin-bottom: 2rem;
        }
        
        .api-section {
            margin-bottom: 3rem;
            border: 1px solid #e9ecef;
            border-radius: 0.5rem;
            overflow: hidden;
        }
        
        .api-section-header {
            background: #f8f9fa;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #e9ecef;
        }
        
        .api-section-content {
            padding: 1.5rem;
        }
        
        .endpoint {
            margin-bottom: 2rem;
            padding: 1.5rem;
            border: 1px solid #dee2e6;
            border-radius: 0.375rem;
            background: #fafafa;
        }
        
        .endpoint-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .http-method {
            padding: 0.25rem 0.75rem;
            border-radius: 0.25rem;
            font-weight: bold;
            font-size: 0.875rem;
            margin-right: 1rem;
        }
        
        .method-post { background: var(--success-color); color: white; }
        .method-get { background: var(--info-color); color: white; }
        
        .endpoint-path {
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            font-weight: bold;
        }
        
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 0.375rem;
            padding: 1rem;
            margin: 1rem 0;
            overflow-x: auto;
        }
        
        .parameter-table {
            font-size: 0.9rem;
        }
        
        .parameter-table th {
            background: #e9ecef;
            font-weight: 600;
        }
        
        .required {
            color: var(--danger-color);
            font-weight: bold;
        }
        
        .optional {
            color: var(--info-color);
            font-weight: normal;
        }
        
        .math-formula {
            background: #f8f9fa;
            padding: 1rem;
            border-left: 4px solid var(--primary-color);
            margin: 1rem 0;
            font-family: 'Times New Roman', serif;
        }
        
        .performance-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin: 1rem 0;
        }
        
        .theory-section {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 1.5rem;
            border-radius: 0.375rem;
            margin: 1rem 0;
        }
        
        .example-section {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 1.5rem;
            border-radius: 0.375rem;
            margin: 1rem 0;
        }
        
        .sidebar {
            position: sticky;
            top: 2rem;
            max-height: calc(100vh - 4rem);
            overflow-y: auto;
        }
        
        .nav-link {
            color: #6c757d;
            transition: color 0.2s;
        }
        
        .nav-link:hover, .nav-link.active {
            color: var(--primary-color);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header-gradient text-center">
        <div class="container">
            <h1 class="display-4 mb-3">
                <i class="fas fa-dice me-3"></i>
                Monte Carlo Simulation API
            </h1>
            <p class="lead">
                Advanced Monte Carlo methods for financial modeling and derivative pricing
            </p>
            <div class="row justify-content-center mt-4">
                <div class="col-auto">
                    <span class="badge bg-light text-dark fs-6 me-3">
                        <i class="fas fa-rocket me-1"></i>
                        GPU Accelerated
                    </span>
                    <span class="badge bg-light text-dark fs-6 me-3">
                        <i class="fas fa-chart-line me-1"></i>
                        1M+ Paths/Second
                    </span>
                    <span class="badge bg-light text-dark fs-6">
                        <i class="fas fa-cogs me-1"></i>
                        Variance Reduction
                    </span>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar Navigation -->
            <div class="col-md-3">
                <div class="sidebar">
                    <nav class="nav flex-column">
                        <h6 class="nav-header text-muted text-uppercase fw-bold mb-2">Overview</h6>
                        <a class="nav-link" href="#introduction">Introduction</a>
                        <a class="nav-link" href="#theory">Mathematical Theory</a>
                        <a class="nav-link" href="#performance">Performance</a>
                        
                        <h6 class="nav-header text-muted text-uppercase fw-bold mb-2 mt-3">Simulation Types</h6>
                        <a class="nav-link" href="#gbm">Geometric Brownian Motion</a>
                        <a class="nav-link" href="#multi-asset">Multi-Asset Simulation</a>
                        <a class="nav-link" href="#path-dependent">Path-Dependent Options</a>
                        <a class="nav-link" href="#quasi-mc">Quasi-Monte Carlo</a>
                        
                        <h6 class="nav-header text-muted text-uppercase fw-bold mb-2 mt-3">Advanced Features</h6>
                        <a class="nav-link" href="#variance-reduction">Variance Reduction</a>
                        <a class="nav-link" href="#gpu-acceleration">GPU Acceleration</a>
                        <a class="nav-link" href="#convergence">Convergence Analysis</a>
                        
                        <h6 class="nav-header text-muted text-uppercase fw-bold mb-2 mt-3">Examples</h6>
                        <a class="nav-link" href="#basic-examples">Basic Examples</a>
                        <a class="nav-link" href="#advanced-examples">Advanced Examples</a>
                        <a class="nav-link" href="#python-sdk">Python SDK</a>
                    </nav>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-md-9">
                <!-- Introduction Section -->
                <section id="introduction" class="api-section">
                    <div class="api-section-header">
                        <h2><i class="fas fa-info-circle me-2"></i>Monte Carlo Introduction</h2>
                    </div>
                    <div class="api-section-content">
                        <p class="lead">Monte Carlo methods are computational algorithms that rely on repeated random sampling to obtain numerical results. In finance, they're particularly powerful for:</p>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <ul class="list-unstyled">
                                    <li><i class="fas fa-check-circle text-success me-2"></i><strong>Option Pricing:</strong> European, American, Asian, Barrier</li>
                                    <li><i class="fas fa-check-circle text-success me-2"></i><strong>Risk Management:</strong> VaR, Expected Shortfall</li>
                                    <li><i class="fas fa-check-circle text-success me-2"></i><strong>Portfolio Analysis:</strong> Performance simulation</li>
                                    <li><i class="fas fa-check-circle text-success me-2"></i><strong>Stress Testing:</strong> Scenario analysis</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul class="list-unstyled">
                                    <li><i class="fas fa-check-circle text-success me-2"></i><strong>Multi-Asset Models:</strong> Correlation modeling</li>
                                    <li><i class="fas fa-check-circle text-success me-2"></i><strong>Complex Derivatives:</strong> Path-dependent payoffs</li>
                                    <li><i class="fas fa-check-circle text-success me-2"></i><strong>Credit Risk:</strong> Default probability modeling</li>
                                    <li><i class="fas fa-check-circle text-success me-2"></i><strong>Market Risk:</strong> Regulatory capital calculations</li>
                                </ul>
                            </div>
                        </div>

                        <div class="performance-card">
                            <h5><i class="fas fa-tachometer-alt me-2"></i>Performance Capabilities</h5>
                            <div class="row">
                                <div class="col-md-3 text-center">
                                    <h3>1M+</h3>
                                    <small>Paths/Second (GPU)</small>
                                </div>
                                <div class="col-md-3 text-center">
                                    <h3>100K+</h3>
                                    <small>Paths/Second (CPU)</small>
                                </div>
                                <div class="col-md-3 text-center">
                                    <h3>0.01%</h3>
                                    <small>Convergence Tolerance</small>
                                </div>
                                <div class="col-md-3 text-center">
                                    <h3>50+</h3>
                                    <small>Assets Correlated</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Theory Section -->
                <section id="theory" class="api-section">
                    <div class="api-section-header">
                        <h2><i class="fas fa-calculator me-2"></i>Mathematical Theory</h2>
                    </div>
                    <div class="api-section-content">
                        <div class="theory-section">
                            <h5>Geometric Brownian Motion (GBM)</h5>
                            <p>The fundamental model for stock price evolution:</p>
                            <div class="math-formula text-center">
                                <span id="gbm-formula"></span>
                            </div>
                            <p>Where:</p>
                            <ul>
                                <li><strong>S(t)</strong> = Stock price at time t</li>
                                <li><strong>μ</strong> = Drift rate (expected return)</li>
                                <li><strong>σ</strong> = Volatility (standard deviation of returns)</li>
                                <li><strong>W(t)</strong> = Wiener process (Brownian motion)</li>
                            </ul>
                        </div>

                        <div class="theory-section">
                            <h5>Discrete Time Simulation</h5>
                            <p>For numerical simulation, we discretize the continuous process:</p>
                            <div class="math-formula text-center">
                                <span id="discrete-formula"></span>
                            </div>
                            <p>Where <strong>Δt = T/N</strong> and <strong>Z ~ N(0,1)</strong></p>
                        </div>

                        <div class="theory-section">
                            <h5>Multi-Asset Extension</h5>
                            <p>For correlated assets, we use Cholesky decomposition:</p>
                            <div class="math-formula text-center">
                                <span id="cholesky-formula"></span>
                            </div>
                            <p>Where <strong>L</strong> is the Cholesky factor of the correlation matrix.</p>
                        </div>
                    </div>
                </section>

                <!-- GBM Section -->
                <section id="gbm" class="api-section">
                    <div class="api-section-header">
                        <h2><i class="fas fa-chart-line me-2"></i>Geometric Brownian Motion</h2>
                    </div>
                    <div class="api-section-content">
                        <div class="endpoint">
                            <div class="endpoint-header">
                                <span class="http-method method-post">POST</span>
                                <span class="endpoint-path">/api/v1/simulations/monte-carlo</span>
                            </div>
                            <p>Generate price paths using the Geometric Brownian Motion model.</p>
                            
                            <h6>Parameters</h6>
                            <div class="table-responsive">
                                <table class="table parameter-table">
                                    <thead>
                                        <tr>
                                            <th>Parameter</th>
                                            <th>Type</th>
                                            <th>Required</th>
                                            <th>Range</th>
                                            <th>Description</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><code>n_simulations</code></td>
                                            <td>integer</td>
                                            <td><span class="required">Required</span></td>
                                            <td>100 - 1,000,000</td>
                                            <td>Number of Monte Carlo paths to generate</td>
                                        </tr>
                                        <tr>
                                            <td><code>n_steps</code></td>
                                            <td>integer</td>
                                            <td><span class="required">Required</span></td>
                                            <td>10 - 10,000</td>
                                            <td>Number of time steps in each path</td>
                                        </tr>
                                        <tr>
                                            <td><code>initial_price</code></td>
                                            <td>float</td>
                                            <td><span class="required">Required</span></td>
                                            <td>> 0.01</td>
                                            <td>Starting price for the simulation</td>
                                        </tr>
                                        <tr>
                                            <td><code>drift</code></td>
                                            <td>float</td>
                                            <td><span class="required">Required</span></td>
                                            <td>-1.0 to 1.0</td>
                                            <td>Annual drift rate (μ)</td>
                                        </tr>
                                        <tr>
                                            <td><code>volatility</code></td>
                                            <td>float</td>
                                            <td><span class="required">Required</span></td>
                                            <td>0.001 - 2.0</td>
                                            <td>Annual volatility (σ)</td>
                                        </tr>
                                        <tr>
                                            <td><code>random_seed</code></td>
                                            <td>integer</td>
                                            <td><span class="optional">Optional</span></td>
                                            <td>-</td>
                                            <td>Seed for reproducible results</td>
                                        </tr>
                                        <tr>
                                            <td><code>use_gpu</code></td>
                                            <td>boolean</td>
                                            <td><span class="optional">Optional</span></td>
                                            <td>true/false</td>
                                            <td>Enable GPU acceleration</td>
                                        </tr>
                                        <tr>
                                            <td><code>antithetic_variates</code></td>
                                            <td>boolean</td>
                                            <td><span class="optional">Optional</span></td>
                                            <td>true/false</td>
                                            <td>Use antithetic variates for variance reduction</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <h6>Request Example</h6>
                            <div class="code-block">
<pre><code class="language-json">{
  "n_simulations": 50000,
  "n_steps": 252,
  "initial_price": 100.0,
  "drift": 0.05,
  "volatility": 0.2,
  "random_seed": 42,
  "use_gpu": true,
  "antithetic_variates": true
}</code></pre>
                            </div>

                            <h6>Response Example</h6>
                            <div class="code-block">
<pre><code class="language-json">{
  "simulation_id": "b8f3d2e1-4c56-789a-bcde-f012345678ab",
  "parameters": {
    "n_simulations": 50000,
    "n_steps": 252,
    "initial_price": 100.0,
    "drift": 0.05,
    "volatility": 0.2,
    "execution_time_ms": 1234
  },
  "statistics": {
    "mean_final_price": 105.127,
    "std_final_price": 20.456,
    "min_final_price": 34.12,
    "max_final_price": 234.56,
    "theoretical_mean": 105.127,
    "theoretical_std": 20.000,
    "percentiles": {
      "1st": 68.45,
      "5th": 78.23,
      "10th": 82.67,
      "25th": 91.34,
      "50th": 104.78,
      "75th": 118.45,
      "90th": 132.89,
      "95th": 141.67,
      "99th": 167.23
    }
  },
  "convergence": {
    "converged": true,
    "convergence_iterations": 45000,
    "final_standard_error": 0.091,
    "confidence_interval_95": [105.036, 105.218]
  },
  "paths_sample": [
    [100.0, 101.23, 99.87, 102.45, ...],
    [100.0, 98.76, 97.34, 99.12, ...],
    "... (first 10 paths shown)"
  ],
  "timestamp": "2025-01-21T03:52:00Z"
}</code></pre>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Multi-Asset Section -->
                <section id="multi-asset" class="api-section">
                    <div class="api-section-header">
                        <h2><i class="fas fa-project-diagram me-2"></i>Multi-Asset Simulation</h2>
                    </div>
                    <div class="api-section-content">
                        <div class="endpoint">
                            <div class="endpoint-header">
                                <span class="http-method method-post">POST</span>
                                <span class="endpoint-path">/api/v1/simulations/multi-asset</span>
                            </div>
                            <p>Simulate multiple correlated assets simultaneously using Cholesky decomposition.</p>
                            
                            <h6>Request Example</h6>
                            <div class="code-block">
<pre><code class="language-json">{
  "n_simulations": 10000,
  "n_steps": 252,
  "initial_prices": [100.0, 200.0, 150.0, 80.0],
  "drifts": [0.05, 0.06, 0.04, 0.07],
  "volatilities": [0.20, 0.25, 0.18, 0.30],
  "correlation_matrix": [
    [1.00, 0.60, 0.30, 0.20],
    [0.60, 1.00, 0.40, 0.25],
    [0.30, 0.40, 1.00, 0.15],
    [0.20, 0.25, 0.15, 1.00]
  ],
  "random_seed": 42
}</code></pre>
                            </div>

                            <h6>Response Structure</h6>
                            <div class="code-block">
<pre><code class="language-json">{
  "simulation_id": "uuid-here",
  "parameters": { "..." },
  "asset_statistics": [
    {
      "asset_index": 0,
      "initial_price": 100.0,
      "mean_final_price": 105.13,
      "std_final_price": 20.45,
      "var_95": -32.45,
      "sharpe_ratio": 0.89
    },
    "... (for each asset)"
  ],
  "correlation_analysis": {
    "empirical_correlation": [
      [1.00, 0.598, 0.302, 0.201],
      [0.598, 1.00, 0.396, 0.248],
      [0.302, 0.396, 1.00, 0.149],
      [0.201, 0.248, 0.149, 1.00]
    ],
    "correlation_error": 0.003
  },
  "timestamp": "2025-01-21T03:52:00Z"
}</code></pre>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Path-Dependent Section -->
                <section id="path-dependent" class="api-section">
                    <div class="api-section-header">
                        <h2><i class="fas fa-route me-2"></i>Path-Dependent Options</h2>
                    </div>
                    <div class="api-section-content">
                        <div class="endpoint">
                            <div class="endpoint-header">
                                <span class="http-method method-post">POST</span>
                                <span class="endpoint-path">/api/v1/simulations/path-dependent</span>
                            </div>
                            <p>Price exotic options whose payoff depends on the entire price path.</p>

                            <h6>Supported Option Types</h6>
                            <div class="row">
                                <div class="col-md-6">
                                    <ul>
                                        <li><strong>Asian Options:</strong> Average price/strike</li>
                                        <li><strong>Barrier Options:</strong> Up/down, in/out</li>
                                        <li><strong>Lookback Options:</strong> Floating/fixed strike</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <ul>
                                        <li><strong>American Options:</strong> Early exercise</li>
                                        <li><strong>Rainbow Options:</strong> Multi-asset payoffs</li>
                                        <li><strong>Basket Options:</strong> Weighted portfolios</li>
                                    </ul>
                                </div>
                            </div>

                            <h6>Asian Option Example</h6>
                            <div class="code-block">
<pre><code class="language-json">{
  "simulation_params": {
    "n_simulations": 100000,
    "n_steps": 252,
    "initial_price": 100.0,
    "drift": 0.05,
    "volatility": 0.2
  },
  "option_params": {
    "option_type": "asian",
    "payoff_type": "call",
    "strike": 100.0,
    "averaging_type": "arithmetic",
    "averaging_start": 0,
    "risk_free_rate": 0.03,
    "time_to_maturity": 1.0
  }
}</code></pre>
                            </div>

                            <h6>Barrier Option Example</h6>
                            <div class="code-block">
<pre><code class="language-json">{
  "simulation_params": {
    "n_simulations": 100000,
    "n_steps": 252,
    "initial_price": 100.0,
    "drift": 0.05,
    "volatility": 0.2
  },
  "option_params": {
    "option_type": "barrier",
    "payoff_type": "call",
    "strike": 100.0,
    "barrier": 120.0,
    "barrier_type": "up-and-out",
    "risk_free_rate": 0.03,
    "time_to_maturity": 1.0,
    "rebate": 5.0
  }
}</code></pre>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Variance Reduction Section -->
                <section id="variance-reduction" class="api-section">
                    <div class="api-section-header">
                        <h2><i class="fas fa-compress-alt me-2"></i>Variance Reduction Techniques</h2>
                    </div>
                    <div class="api-section-content">
                        <div class="row">
                            <div class="col-md-6">
                                <h5>Antithetic Variates</h5>
                                <p>Reduces variance by using negatively correlated random numbers:</p>
                                <div class="code-block">
<pre><code class="language-json">{
  "antithetic_variates": true,
  "expected_variance_reduction": "30-50%"
}</code></pre>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h5>Control Variates</h5>
                                <p>Uses known analytical solutions to reduce variance:</p>
                                <div class="code-block">
<pre><code class="language-json">{
  "control_variates": {
    "enabled": true,
    "control_option": "european_call"
  }
}</code></pre>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <h5>Importance Sampling</h5>
                                <p>Focuses sampling on important regions:</p>
                                <div class="code-block">
<pre><code class="language-json">{
  "importance_sampling": {
    "enabled": true,
    "shift_parameter": 0.1
  }
}</code></pre>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h5>Stratified Sampling</h5>
                                <p>Divides sample space into strata:</p>
                                <div class="code-block">
<pre><code class="language-json">{
  "stratified_sampling": {
    "enabled": true,
    "n_strata": 10
  }
}</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- GPU Acceleration Section -->
                <section id="gpu-acceleration" class="api-section">
                    <div class="api-section-header">
                        <h2><i class="fas fa-microchip me-2"></i>GPU Acceleration</h2>
                    </div>
                    <div class="api-section-content">
                        <div class="performance-card">
                            <h5><i class="fas fa-rocket me-2"></i>Performance Comparison</h5>
                            <div class="row">
                                <div class="col-md-4 text-center">
                                    <h4>CPU (8 cores)</h4>
                                    <h3>100K</h3>
                                    <small>paths/second</small>
                                </div>
                                <div class="col-md-4 text-center">
                                    <h4>GPU (RTX 4080)</h4>
                                    <h3>1.2M</h3>
                                    <small>paths/second</small>
                                </div>
                                <div class="col-md-4 text-center">
                                    <h4>Speedup</h4>
                                    <h3>12x</h3>
                                    <small>faster</small>
                                </div>
                            </div>
                        </div>

                        <h6>GPU Configuration</h6>
                        <div class="code-block">
<pre><code class="language-json">{
  "use_gpu": true,
  "gpu_settings": {
    "device_id": 0,
    "memory_limit_gb": 8,
    "precision": "float32",
    "optimization_level": 3
  }
}</code></pre>
                        </div>

                        <div class="alert alert-info">
                            <h6><i class="fas fa-info-circle me-2"></i>GPU Requirements</h6>
                            <ul class="mb-0">
                                <li>NVIDIA GPU with CUDA Compute Capability 3.5+</li>
                                <li>CUDA Toolkit 11.8 or later</li>
                                <li>8GB+ GPU memory recommended for large simulations</li>
                                <li>CuPy library for GPU acceleration</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Examples Section -->
                <section id="basic-examples" class="api-section">
                    <div class="api-section-header">
                        <h2><i class="fas fa-code me-2"></i>Basic Examples</h2>
                    </div>
                    <div class="api-section-content">
                        <div class="example-section">
                            <h5>Example 1: Basic Stock Price Simulation</h5>
                            <div class="code-block">
<pre><code class="language-bash">curl -X POST "https://api.mcmf-system.com/api/v1/simulations/monte-carlo" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "n_simulations": 10000,
    "n_steps": 252,
    "initial_price": 100.0,
    "drift": 0.08,
    "volatility": 0.25,
    "random_seed": 42
  }'</code></pre>
                            </div>
                        </div>

                        <div class="example-section">
                            <h5>Example 2: High-Performance Simulation with GPU</h5>
                            <div class="code-block">
<pre><code class="language-bash">curl -X POST "https://api.mcmf-system.com/api/v1/simulations/monte-carlo" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "n_simulations": 1000000,
    "n_steps": 252,
    "initial_price": 100.0,
    "drift": 0.05,
    "volatility": 0.2,
    "use_gpu": true,
    "antithetic_variates": true
  }'</code></pre>
                            </div>
                        </div>

                        <div class="example-section">
                            <h5>Example 3: Portfolio Simulation</h5>
                            <div class="code-block">
<pre><code class="language-bash">curl -X POST "https://api.mcmf-system.com/api/v1/simulations/multi-asset" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "n_simulations": 50000,
    "n_steps": 252,
    "initial_prices": [100, 50, 200],
    "drifts": [0.08, 0.06, 0.10],
    "volatilities": [0.20, 0.30, 0.25],
    "correlation_matrix": [
      [1.0, 0.5, 0.3],
      [0.5, 1.0, 0.2],
      [0.3, 0.2, 1.0]
    ]
  }'</code></pre>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Python SDK Section -->
                <section id="python-sdk" class="api-section">
                    <div class="api-section-header">
                        <h2><i class="fab fa-python me-2"></i>Python SDK Examples</h2>
                    </div>
                    <div class="api-section-content">
                        <div class="example-section">
                            <h5>Installation</h5>
                            <div class="code-block">
<pre><code class="language-bash">pip install mcmf-python-client</code></pre>
                            </div>
                        </div>

                        <div class="example-section">
                            <h5>Basic Usage</h5>
                            <div class="code-block">
<pre><code class="language-python">from mcmf_client import MCMFClient
import numpy as np

# Initialize client
client = MCMFClient(api_key="your_api_key")

# Run Monte Carlo simulation
result = client.monte_carlo.simulate(
    n_simulations=10000,
    n_steps=252,
    initial_price=100.0,
    drift=0.05,
    volatility=0.2,
    use_gpu=True
)

print(f"Mean final price: ${result.statistics.mean_final_price:.2f}")
print(f"95% VaR: ${result.statistics.percentiles['5th']:.2f}")

# Access simulation paths
paths = result.get_all_paths()  # Returns numpy array
final_prices = paths[:, -1]

# Calculate custom statistics
custom_var = np.percentile(final_prices, 1)
print(f"99% VaR: ${custom_var:.2f}")</code></pre>
                            </div>
                        </div>

                        <div class="example-section">
                            <h5>Advanced Multi-Asset Example</h5>
                            <div class="code-block">
<pre><code class="language-python">import pandas as pd
from mcmf_client import MCMFClient

client = MCMFClient(api_key="your_api_key")

# Define portfolio
assets = ['AAPL', 'GOOGL', 'MSFT', 'AMZN']
initial_prices = [150.0, 2800.0, 300.0, 3200.0]
expected_returns = [0.08, 0.10, 0.06, 0.09]
volatilities = [0.25, 0.30, 0.20, 0.28]

# Correlation matrix
correlation = pd.DataFrame([
    [1.00, 0.65, 0.70, 0.60],
    [0.65, 1.00, 0.75, 0.70],
    [0.70, 0.75, 1.00, 0.65],
    [0.60, 0.70, 0.65, 1.00]
], index=assets, columns=assets)

# Run simulation
result = client.multi_asset.simulate(
    n_simulations=50000,
    n_steps=252,
    initial_prices=initial_prices,
    drifts=expected_returns,
    volatilities=volatilities,
    correlation_matrix=correlation.values.tolist()
)

# Analyze results
for i, asset in enumerate(assets):
    stats = result.asset_statistics[i]
    print(f"{asset}: Final Price ${stats.mean_final_price:.2f} "
          f"(±${stats.std_final_price:.2f})")

# Portfolio analysis
weights = [0.25, 0.25, 0.25, 0.25]  # Equal weights
portfolio_result = client.portfolio.analyze(
    simulation_result=result,
    weights=weights
)

print(f"Portfolio Value: ${portfolio_result.final_value:.2f}")
print(f"Portfolio VaR 95%: ${portfolio_result.var_95:.2f}")</code></pre>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-light py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-8">
                    <h6>Monte Carlo Simulation API</h6>
                    <p class="small mb-0">
                        High-performance Monte Carlo simulation engine for quantitative finance.
                        Supports GPU acceleration, variance reduction, and advanced option pricing models.
                    </p>
                </div>
                <div class="col-md-4 text-md-end">
                    <h6>Resources</h6>
                    <p class="small mb-0">
                        <a href="../index.html" class="text-light">API Overview</a><br>
                        <a href="risk.html" class="text-light">Risk Analytics</a><br>
                        <a href="backtesting.html" class="text-light">Backtesting</a>
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.js"></script>

    <script>
        // Render mathematical formulas
        document.addEventListener('DOMContentLoaded', function() {
            // GBM Formula
            katex.render('dS_t = \\mu S_t dt + \\sigma S_t dW_t', 
                document.getElementById('gbm-formula'), {
                    throwOnError: false,
                    displayMode: true
                });
            
            // Discrete Formula
            katex.render('S_{t+1} = S_t \\exp\\left((\\mu - \\frac{\\sigma^2}{2})\\Delta t + \\sigma\\sqrt{\\Delta t}Z\\right)', 
                document.getElementById('discrete-formula'), {
                    throwOnError: false,
                    displayMode: true
                });
            
            // Cholesky Formula
            katex.render('\\mathbf{Z}_{corr} = \\mathbf{L} \\cdot \\mathbf{Z}_{indep}', 
                document.getElementById('cholesky-formula'), {
                    throwOnError: false,
                    displayMode: true
                });
        });

        // Smooth scrolling and active navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Active navigation highlighting
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.nav-link[href^="#"]');
            
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (pageYOffset >= sectionTop - 100) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
